

<!DOCTYPE html>
<html lang="en" >

<head>

  <meta charset="UTF-8">
  
 
  <title>CART PAGE</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
  
  
  
<style>
body {
  padding-top: 80px;
}

.show-cart li {
  display: flex;
}
.card {
  margin-bottom: 20px;
}
.card-img-top {
  width: 200px;
  height: 200px;
  align-self: center;
}
.discount{
	color: #388e3c;
    font-size: 13px;
    letter-spacing: -.2px;
    font-weight: 500;
	}
</style>

  <script>
  window.console = window.console || function(t) {};
</script>

  
  
  <script>
  if (document.location.search.match(/type=embed/gi)) {
    window.parent.postMessage("resize", "*");
  }
</script>


</head>

<body translate="no" > 

<!-- Main -->
<div class="container-fluid"> 
	<div class="row">
		<div class="pull-left col-md-9 col-xs-12">
			 <div id="demo" class="row"></div> 
		</div>
		<aside class="pull-right col-md-3 col-xs-12">
			<div class="card" style="width: 20rem;">
				<h3></h3>
				<div>Cart (<span class="total-count"></span>)</div>
				<div class="table-responsive">
					<table class="show-cart table ">
			  
					</table>
				</div>
				<div>Total price: Rs. <span class="total-cart"></span></div>
				<button class="clear-cart btn btn-danger">Clear Cart</button>
				<button class="btn btn-success">CheckOut</button>
			</div>
		</aside>
	</div>
</div>

<script>
var myObj, i, j, x = "";
myObj = {
                    items: [
        {
                        name: "Samsung&nbsp;Series&nbsp;4",
                        image: "https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90",
                        price: {
                            actual: 13999,
                            display: 22500
            },
                        discount: 37
        },
        {
                        name: "Samsung&nbsp;Super&nbsp;6",
                        image: "https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90",
                        price: {
                            actual: 35999,
                            display: 66900
            },
                        discount: 46
        },
        {
                        name: "Samsung&nbsp;The&nbsp;Frame",
                        image: "https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90",
                        price: {
                            actual: 84999,
                            display: 133900
            },
                        discount: 36
        },
        {
                        name: "Thomson&nbsp;B9&nbsp;Pro",
                        image: "https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90",
                        price: {
                            actual: 9999,
                            display: 16999
            },
                        discount: 41
        },
        {
                        name: "LG&nbsp;Ultra&nbsp;HD",
                        image: "https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90",
                        price: {
                            actual: 39990,
                            display: 79990
            },
                        discount: 50
        },
        {
                        name: "Vu&nbsp;Ready&nbsp;LED&nbsp;TV",
                        image: "https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90",
                        price: {
                            actual: 7999,
                            display: 17e3
            },
                        discount: 52
        },
        {
                        name: "Koryo&nbsp;Android&nbsp;TV",
                        image: "https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90",
                        price: {
                            actual: 55999,
                            display: 199990
            },
                        discount: 71
        },
        {
                        name: "Micromax&nbsp;LED&nbsp;Smart",
                        image: "https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90",
                        price: {
                            actual: 9999,
                            display: 27990
            },
                        discount: 64
        }
    ]
}
for (i in myObj.items) {
  x += "<div class='col-sm-4'><div class='card' style='padding:10px 0px;'><img class='card-img-top' src='" + myObj.items[i].image + "'> <div class='card-block'>";
  x += "<h4 class='card-title'>" + myObj.items[i].name + "</h4><div class='table-responsive'><table class='table'><tr>";
  //for (j in myObj.items[i].price) { }
    x += "<td>Rs.<span style='font-size:17px;'>" +  myObj.items[i].price.actual + "</span> ";
    x += "<span style='font-size:12px;color:#f70000;text-decoration: line-through;'>" + myObj.items[i].price.display + "</span> ";
    x += "<span class='discount'>" + myObj.items[i].discount + "% off</span></td>";
  x += "<td><a href='#' data-name='" + myObj.items[i].name + "' data-price='" + myObj.items[i].price.display + "' class='add-to-cart btn btn-primary'>Add</a></td></tr>"; 
  x += "</table></div></div></div></div>"; 
}
document.getElementById("demo").innerHTML = x;
</script>
   
    <script src="https://cpwebassets.codepen.io/assets/common/stopExecutionOnTimeout-157cd5b220a5c80d4ff8e0e70ac069bffd87a61252088146915e8726e5d9f147.js"></script>

  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script>
      <script id="rendered-js" >
// ************************************************
// Shopping Cart API
// ************************************************

var shoppingCart = function () {
  // =============================
  // Private methods and propeties
  // =============================
  cart = [];

  // Constructor
  function Item(name, price, count) {
    this.name = name;
    this.price = price;
    this.count = count;
  }

  // Save cart
  function saveCart() {
    sessionStorage.setItem('shoppingCart', JSON.stringify(cart));
  }

  // Load cart
  function loadCart() {
    cart = JSON.parse(sessionStorage.getItem('shoppingCart'));
  }
  if (sessionStorage.getItem("shoppingCart") != null) {
    loadCart();
  }


  // =============================
  // Public methods and propeties
  // =============================
  var obj = {};

  // Add to cart
  obj.addItemToCart = function (name, price, count) {
    for (var item in cart) {
      if (cart[item].name === name) {
        cart[item].count++;
        saveCart();
        return;
      }
    }
    var item = new Item(name, price, count);
    cart.push(item);
    saveCart();
  };
  // Set count from item
  obj.setCountForItem = function (name, count) {
    for (var i in cart) {
      if (cart[i].name === name) {
        cart[i].count = count;
        break;
      }
    }
  };
  // Remove item from cart
  obj.removeItemFromCart = function (name) {
    for (var item in cart) {
      if (cart[item].name === name) {
        cart[item].count--;
        if (cart[item].count === 0) {
          cart.splice(item, 1);
        }
        break;
      }
    }
    saveCart();
  };

  // Remove all items from cart
  obj.removeItemFromCartAll = function (name) {
    for (var item in cart) {
      if (cart[item].name === name) {
        cart.splice(item, 1);
        break;
      }
    }
    saveCart();
  };

  // Clear cart
  obj.clearCart = function () {
    cart = [];
    saveCart();
  };

  // Count cart 
  obj.totalCount = function () {
    var totalCount = 0;
    for (var item in cart) {
      totalCount += cart[item].count;
    }
    return totalCount;
  };

  // Total cart
  obj.totalCart = function () {
    var totalCart = 0;
    for (var item in cart) {
      totalCart += cart[item].price * cart[item].count;
    }
    return Number(totalCart.toFixed(2));
  };

  // List cart
  obj.listCart = function () {
    var cartCopy = [];
    for (i in cart) {
      item = cart[i];
      itemCopy = {};
      for (p in item) {
        itemCopy[p] = item[p];

      }
      itemCopy.total = Number(item.price * item.count).toFixed(2);
      cartCopy.push(itemCopy);
    }
    return cartCopy;
  };

  // cart : Array
  // Item : Object/Class
  // addItemToCart : Function
  // removeItemFromCart : Function
  // removeItemFromCartAll : Function
  // clearCart : Function
  // countCart : Function
  // totalCart : Function
  // listCart : Function
  // saveCart : Function
  // loadCart : Function
  return obj;
}();


// *****************************************
// Triggers / Events
// ***************************************** 
// Add item
$('.add-to-cart').click(function (event) {
  event.preventDefault();
  var name = $(this).data('name');
  var price = Number($(this).data('price'));
  shoppingCart.addItemToCart(name, price, 1);
  displayCart();
});

// Clear items
$('.clear-cart').click(function () {
  shoppingCart.clearCart();
  displayCart();
});


function displayCart() {
  var cartArray = shoppingCart.listCart();
  var output = "";
  for (var i in cartArray) {
    output += "<tr>" +
    "<td>" + cartArray[i].name + " " +
    "(" + cartArray[i].price + ")</td>" +
    "<td><div class='input-group'><button class='minus-item input-group-addon ' data-name=" + cartArray[i].name + ">-</button>" +
    "<input type='number' class='item-count ' data-name='" + cartArray[i].name + "' value='" + cartArray[i].count + "' style='width:70px'>" +
    "<button class='plus-item   input-group-addon' data-name=" + cartArray[i].name + ">+</button></div><button class='delete-item' data-name=" + cartArray[i].name + ">X</button></td>" +
    "<td>"  +
    "" + cartArray[i].total + " </td>" +
    "</tr>";
  }
  $('.show-cart').html(output);
  $('.total-cart').html(shoppingCart.totalCart());
  $('.total-count').html(shoppingCart.totalCount());
}

// Delete item button

$('.show-cart').on("click", ".delete-item", function (event) {
  var name = $(this).data('name');
  shoppingCart.removeItemFromCartAll(name);
  displayCart();
});


// -1
$('.show-cart').on("click", ".minus-item", function (event) {
  var name = $(this).data('name');
  shoppingCart.removeItemFromCart(name);
  displayCart();
});
// +1
$('.show-cart').on("click", ".plus-item", function (event) {
  var name = $(this).data('name');
  shoppingCart.addItemToCart(name);
  displayCart();
});

// Item count input
$('.show-cart').on("change", ".item-count", function (event) {
  var name = $(this).data('name');
  var count = Number($(this).val());
  shoppingCart.setCountForItem(name, count);
  displayCart();
});

displayCart();
//# sourceURL=pen.js
    </script>

  

</body>

</html>
 
